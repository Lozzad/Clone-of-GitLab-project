!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define("app",[],o):"object"==typeof exports?exports.app=o():e.app=o()}(window,(function(){return function(e){var o={};function t(s){if(o[s])return o[s].exports;var r=o[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=o,t.d=function(e,o,s){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(s,r,function(o){return e[o]}.bind(null,r));return s},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=0)}([function(e,o,t){e.exports=t(1)},function(e,o,t){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),t(2),t(3);var r,l,i,n,d=s(t(4)),a={selectedItem:null,selectedUrl:null,houseOpened:!1,houseID:null};function c(){i&&(i.width=window.innerWidth,i.height=window.innerHeight),n&&(n.width=window.innerWidth,n.height=window.innerHeight)}function p(){l=document.querySelector("video"),a.selectedItem?(r.classList.add("hide"),l.classList.add("hide"),i.classList.remove("hide"),n.contentWindow.postMessage({src:a.selectedItem,href:a.selectedUrl},window.location.href)):(r.classList.remove("hide"),l.classList.remove("hide"),i.classList.add("hide"))}window.addEventListener("resize",(function(){c()})),window.addEventListener("DOMContentLoaded",(function(){r=document.querySelector("a-scene"),i=document.getElementById("overlay"),n=document.getElementById("viewer"),r.setAttribute("housebuilder",{houseData:d.default}),r.addEventListener("loaded",(function(){console.log("loaded")})),r.addEventListener("house-opened",(function(e){var o=e.detail.id,t=e.detail.url;a.selectedUrl=t||null;var s=document.getElementById(o+"0-asset");console.log(s),s&&(a.selectedItem=s.getAttribute("src")),a.houseOpened=!0,p()}),!1),r.addEventListener("house-closing",(function(){a.houseOpened=!1,p()}),!1),r.addEventListener("house-id-selected",(function(e){var o=e.detail.id;a.houseID=o,console.log("I got the message: "+o)})),c()}))},function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=AFRAME.registerComponent("housebuilder",{schema:{houseData:{type:"array"}},createModel:function(e){var o=document.createElement("a-entity");return o.setAttribute("id",e.id),o.setAttribute("gltf-model","#"+e.id+"-asset"),o.setAttribute("animation-mixer",{clip:"closed"}),o.setAttribute("position",e.posX+" "+e.posY+" "+e.posZ),e.collidable&&(o.setAttribute("class","collidable"),o.setAttribute("house",{houseID:e.id})),o.object3D.scale.set(e.scale,e.scale,e.scale),o},buildHouses:function(){var e=this,o=document.querySelector("a-assets"),t=document.getElementById("house models");null==t&&console.error("no model parent found"),this.data.houseData.forEach((function(s){var r=document.createElement("a-asset-item");r.setAttribute("id",s.id+"-asset"),r.setAttribute("src","/assets/houses/"+s.id+".gltf"),o.appendChild(r),t.appendChild(e.createModel(s))}))},init:function(){console.log("init housebuilder"),this.bindMethods(),this.addEventListeners(),this.buildHouses()},addEventListeners:function(){},removeEventListeners:function(){},bindMethods:function(){this.addEventListeners=this.addEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this)},remove:function(){this.removeEventListeners()}})},function(e,o){},function(e){e.exports=[{id:"af",posX:0,posY:0,posZ:0,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0,url:"https://www.brighton-hove.gov.uk/sites/brighton-hove.gov.uk/files/LLHA%20New%20Church%20Road%2C%2035%2C%20Aldrington%20House%20Lady%20Chichester%20Hospital%20v2%20180615.pdf"},{id:"af2",posX:.9,posY:0,posZ:-2.5,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!1},{id:"ag",posX:-1.2,posY:0,posZ:.3,rotX:0,rotY:0,rotZ:0,scale:.04,collidable:!0,url:"https://en.wikipedia.org/wiki/St_Andrew%27s_Church,_Waterloo_Street,_Hove"},{id:"ah",posX:.6,posY:0,posZ:-1.2,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0,url:"https://en.wikipedia.org/wiki/Hove_railway_station"},{id:"alice",posX:-.6,posY:0,posZ:.3,rotX:0,rotY:180,rotZ:0,scale:.025,collidable:!1},{id:"aw",posX:-1.2,posY:0,posZ:-3.5,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0},{id:"bg",posX:2.1,posY:0,posZ:-3.5,rotX:0,rotY:-120,rotZ:0,scale:.04,collidable:!0,url:"https://en.wikipedia.org/wiki/Cardinal_Newman_Catholic_School,_Hove"},{id:"cha",posX:-1.5,posY:0,posZ:3.5,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0},{id:"ct",posX:-.6,posY:0,posZ:1.2,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!1,url:"https://en.wikipedia.org/wiki/Hove_Museum_and_Art_Gallery"},{id:"dls",posX:-.3,posY:0,posZ:.9,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0},{id:"eb",posX:.9,posY:0,posZ:.6,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0,url:"https://www.tripadvisor.co.uk/Restaurant_Review-g652380-d3508036-Reviews-China_Inn_Restaurant-Hove_East_Sussex_England.html"},{id:"ef",posX:-1.2,posY:0,posZ:2.7,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!1,url:"http://hovehistory.blogspot.com/2015/11/hove-lagoon.html"},{id:"fc",posX:1.2,posY:0,posZ:-2,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0},{id:"fh",posX:-1.3,posY:0,posZ:-.3,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0,url:"https://www.brighton-hove.gov.uk/content/leisure-and-libraries/arts-and-culture/public-art-cut-and-sediment"},{id:"fs",posX:-1.8,posY:0,posZ:-.3,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0,url:"http://hovehistory.blogspot.com/2015/10/hove-library.html"},{id:"ga",posX:2.4,posY:0,posZ:2.4,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0,url:"https://www.huntington.org/"},{id:"jd",posX:-.9,posY:0,posZ:-3,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0},{id:"lb",posX:-.9,posY:0,posZ:2.4,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!1,url:"http://hovehistory.blogspot.com/2018/05/aldrington-recreation-ground-wish-park.html"},{id:"lk",posX:-.7,posY:0,posZ:-.6,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!1},{id:"lp",posX:-.1,posY:0,posZ:-.6,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0,url:"http://www.wicks.org/pulp/part1.html"},{id:"ls",posX:.2,posY:0,posZ:-1.2,rotX:0,rotY:0,rotZ:0,scale:.04,collidable:!0},{id:"lt",posX:-.6,posY:0,posZ:-2.1,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0},{id:"ma",posX:.6,posY:0,posZ:-2,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0},{id:"md",posX:1.5,posY:0,posZ:-1.2,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0},{id:"nl",posX:1.5,posY:0,posZ:-.6,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0},{id:"ollie",posX:0,posY:0,posZ:3.5,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0},{id:"pb",posX:2.4,posY:0,posZ:3.5,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!1},{id:"rc",posX:.3,posY:0,posZ:1.5,rotX:0,rotY:0,rotZ:0,scale:.04,collidable:!1},{id:"rmj",posX:0,posY:0,posZ:1.8,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0},{id:"rw",posX:-.5,posY:0,posZ:-1.2,rotX:0,rotY:180,rotZ:0,scale:.04,collidable:!0},{id:"ss",posX:-1.8,posY:0,posZ:.6,rotX:0,rotY:-90,rotZ:0,scale:.04,collidable:!0},{id:"za",posX:-.3,posY:0,posZ:-1.8,rotX:0,rotY:90,rotZ:0,scale:.04,collidable:!0}]}])}));